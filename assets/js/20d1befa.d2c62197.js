"use strict";(self.webpackChunkripple=self.webpackChunkripple||[]).push([[9017],{4361:(e,t,n)=>{t.x=void 0;const i=n(6612),s=n(7294),a=n(1606),r=n(4053);let o=0;t.x=function(e){const t={},n={},l=new Map,c=new Map,d=new Map;for(const p in e){const u=`use${p.charAt(0).toUpperCase()}${p.slice(1)}`,h=`update${p.charAt(0).toUpperCase()}${p.slice(1)}`;l.set(o,e[p]),c.set(o,JSON.parse(JSON.stringify(e[p]))),t[u]=(e=>()=>{let t;d.has(e)?(t=d.get(e),(0,i.fullImmutable)(t)?.__cancel?.()):(t=(0,i.createRipple)(l.get(e),e),d.set(e,t));const[n,o]=(0,s.useState)(0),[p]=(0,s.useState)((0,r.UuidV4)());return(0,s.useEffect)((()=>{const t=a.rippleBus.on({eventId:e,callback:()=>{o((e=>e+1))}});return()=>{t.off()}}),[]),[t,(n,s)=>{"restore"===n?(0,i.fullImmutable)(t)?.__cancel?.():"reset"===n?(l.set(e,JSON.parse(JSON.stringify(c.get(e)))),d.delete(e),a.rippleBus.emit({eventId:e})):"replace"===n?(l.set(e,s??JSON.parse(JSON.stringify(c.get(e)))),d.delete(e),a.rippleBus.emit({eventId:e})):t?.__applyInternal?.()}]})(o),n[h]=(e=>()=>{let t;const n=()=>{d.has(e)?(t=d.get(e),(0,i.fullImmutable)(t)?.__cancel?.()):(t=(0,i.createRipple)(l.get(e),e),d.set(e,t))};return n(),s=>{if(!s)return n(),(0,i.createRipple)(l.get(e),e);const r=s(t);switch(r){case"restore":(0,i.fullImmutable)(t)?.__cancel?.();break;case"reset":l.set(e,JSON.parse(JSON.stringify(c.get(e)))),d.delete(e),a.rippleBus.emit({eventId:e}),n();break;default:if(void 0!==r)return l.set(e,JSON.parse(JSON.stringify(c.get(e)))),d.delete(e),a.rippleBus.emit({eventId:e}),n(),(0,i.createRipple)(r,e);(0,i.fullImmutable)(t)?.__applyInternal?.()}return t}})(o),o++}return[t,n]}},1606:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rippleBus=void 0;const i=n(9297);t.rippleBus=new i.EventBus},9297:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evtBus=t.EventBus=void 0;class n{static CATCH_ALL_EVENT=-1;guidIndex=0;_events=new Map;emitStack=[];emitStackIndex=0;emitPriorityStack=[];hasAllEvent=!1;on({eventId:e,callback:t,once:i=!1,instanceId:s=0}){e===n.CATCH_ALL_EVENT&&(this.hasAllEvent=!0),!this._events.has(s)&&this._events.set(s,new Map),!this._events.get(s).has(e)&&this._events.get(s).set(e,new Map);const a={id:this.guidIndex++,callback:t,once:i};return this._events.get(s).get(e).set(a.id,a),{id:a.id,off:()=>this._events.get(s)?.get(e)?.delete(a.id)}}emit(e){if(e?.isPrioritizedOnStack&&this.emitStack.length?this.emitPriorityStack.push(e):this.emitStack.push(e),!(this.emitStack.length>1||this.emitPriorityStack.length>1)){do{const e=this.emitPriorityStack.length?this.emitPriorityStack.pop():this.emitStack[this.emitStackIndex++],{eventId:t,payload:i,context:s,instanceId:a=0,singleTransaction:r=!1}=e,o={eventId:t,instanceId:a,context:s,payload:i};if(r){const e=this._events.get(a)?.get(t)?.get(0);if(!e)continue;e.callback(o),e.once&&this._events.get(a).get(t)?.delete(0)}else this._events.get(a)?.get(t)?.forEach(((e,t,n)=>{e.callback(o),e.once&&n.delete(t)}));this.hasAllEvent&&this._events.get(a).get(n.CATCH_ALL_EVENT)?.forEach(((e,t,n)=>{e.callback(o),e.once&&n.delete(t)}))}while(this.emitStack.length>this.emitStackIndex&&!this.emitPriorityStack.length);this.emitStackIndex=0,this.emitStack.length=0}}clear(){this.emitStack.length=0,this._events.clear()}}t.EventBus=n,t.evtBus=new n},6612:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fullImmutable=t.createRipple=void 0;const i=n(1606);function s(e,t,n){let a={},r=new Map,o=e;function l(e){Object.entries(a).forEach((([e,t])=>{Array.isArray(o)?"length"===e?o.length=t:o[parseInt(e)]=t:(t&&"object"==typeof t&&(t?.__apply?.(!0),!t?.__apply&&t?.__applyInternal?.(!0)),o[e]=t)})),a={},r.forEach((e=>{e?.__apply?.(!0),!e?.__apply&&e?.__applyInternal?.(!0)})),r.clear(),!e&&i.rippleBus.emit({eventId:t})}function c(){Object.entries(this._changes).forEach((([e,t])=>{t&&"object"==typeof t&&t?.__cancel?.()})),a={},r.forEach((e=>{e?.__cancel?.()})),r.clear()}return new Proxy(o,{get:(e,i)=>{if("__isProxy"===i)return!0;if("__applyInternal"===i)return l;if("__cancel"===i)return c;if("_changes"===i)return a;const o=r.get(i);if(o)return o;let d=a[i]??e[i];if("object"==typeof d&&null!==d||Array.isArray(d)){const e=s(d,t,n);return r.set(i,e),e}return d},set:(e,t,n)=>{if(r.has(t))return n&&n.__isProxy?r.set(t,n):(a[t]=n,r.delete(t)),!0;let i=null;return Array.isArray(e)&&"string"==typeof t&&/^\d+$/.test(t)&&(i=parseInt(t)),a[null!=i?i:t]=n,!0}})}t.createRipple=(e,t)=>s(e,t,!1);t.fullImmutable=e=>e},4053:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UuidV4=void 0;t.UuidV4=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>(16*Math.random()|0).toString(16)))},2036:(e,t,n)=>{n.d(t,{rippleHooks:()=>s,rippleServices:()=>a});const i=(0,n(4361).x)({tasks:{todo:[],done:[]}}),s=i[0],a=i[1]},9936:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(7294),s=n(2036);const{updateTasks:a}=s.rippleServices;const r=new class{constructor(e){void 0===e&&(e=a()),this.update=e}addTask(e){this.update((t=>{t.todo.push({id:Math.random().toString(36).substring(2,9),text:e})}))}finishTask(e){this.update((t=>{const n=t.todo.findIndex((t=>t.id===e));if(-1!==n){const i=t.todo.splice(n,1)[0];t.todo=t.todo.filter((t=>t.id!==e)),t.done.push(i)}}))}removeTask(e){this.update((t=>{-1!==t.done.findIndex((t=>t.id===e))&&(t.done=t.done.filter((t=>t.id!==e)))}))}reset(){this.update((e=>"reset"))}},{useTasks:o}=s.rippleHooks,l={mainContainer:{display:"flex",width:"320px",justifyContent:"space-between"},lineContainer:{display:"flex",width:"320px",justifyContent:"space-between",marginTop:"5px"},todoTask:{fontWeight:"bold",cursor:"pointer"},doneTask:{textDecoration:" line-through",color:"grey",fontStyle:"italic"},globalContainer:{border:"1px solid white",padding:"15px",width:"350px"}};function c(){const[e]=o(),[t,n]=i.useState("");return i.createElement(i.Fragment,null,i.createElement("div",{style:l.globalContainer},i.createElement("div",{style:l.mainContainer},i.createElement("span",null,"Todo List"),i.createElement("input",{type:"text",value:t,onChange:e=>n(e.currentTarget.value)}),i.createElement("button",{onClick:()=>{t&&(r.addTask(t),n(""))}},"Add Todo")),i.createElement("button",{onClick:()=>{r.reset()},style:{marginTop:"5px",width:"100%"}},"Reset the list"),e.todo.map((e=>i.createElement("div",{style:l.lineContainer},i.createElement("div",{key:e.id,style:l.todotask},e.text),i.createElement("button",{onClick:()=>r.finishTask(e.id)},"Done")))),e.done.map((e=>i.createElement("div",{style:l.lineContainer},i.createElement("div",{key:e.id,style:l.doneTask},e.text),i.createElement("button",{onClick:()=>r.removeTask(e.id)},"Remove"))))))}},692:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var i=n(7462),s=(n(7294),n(3905)),a=n(9936);const r={sidebar_position:1},o="Introduction",l={unversionedId:"Todo/Intro",id:"Todo/Intro",title:"Introduction",description:"In this tutorial we will learn how to create a simple todo list using Ripple.",source:"@site/docs/Todo/01-Intro.mdx",sourceDirName:"Todo",slug:"/Todo/Intro",permalink:"/docs/Todo/Intro",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Todo list example",permalink:"/docs/category/todo-list-example"},next:{title:"The Lake",permalink:"/docs/Todo/Lake"}},c={},d=[],p={toc:d},u="wrapper";function h(e){let{components:t,...n}=e;return(0,s.kt)(u,(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"introduction"},"Introduction"),(0,s.kt)("p",null,"In this tutorial we will learn how to create a simple todo list using Ripple."),(0,s.kt)("p",null,"Final result will be this way:"),(0,s.kt)(a.Z,{mdxType:"TodoList"}))}h.isMDXComponent=!0}}]);